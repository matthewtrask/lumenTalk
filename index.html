<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Illumenting the web with Lumen</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
		<link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,300italic,700' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/night.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides" id="fragments">
				<section>
					<h1>Lumen</h1>
					<h3>The microframework from Laravel.</h3>
					<p>
						<small>Created by <a href="http://matthewtrask.net">Matthew Trask</a> / <a href="http://twitter.com/matthewtrask">@matthewtrask</a></small>
					</p>
				</section>

				<section>
					<section>
						<h2>Who am I? (again...)</h2>

						<p>I am a cat enthusiast.</p>
						<img style="height: 400px;" src="img/apple_cat.jpg" alt="apple-cat">
					</section>
					<section>
						<h2>Me still</h2>
						<p>
						Also, I do fun things with API's, drink more coffee then what is legitimately normal, and dance to Taylor Swift in the office.
						</p>
					</section>
					<section>
						<h2>Where can you find me at?</h2>
						<ul>
							<li><i class="fa fa-twitter" style="color: #55acee"></i> Twitter: @matthewtrask</li>
							<li><i class="fa fa-comments"></i> IRC: matthewtrask</li>
							<li><i class="fa fa-pencil-square-o" style="color: #2e8b57"></i> Blog: matthewtrask.net</li>
							<li><i class="fa fa-beer" style="color: #ffcc00"></i> The Brick Store</li>
						</ul>
					</section>
				</section>
				<section>
					<h2>What is Lumen?</h2>
					<p>A micro framework from Laravel, or Taylor Otwell</p>
					<p>It aims to solve the problem of using monolithic frameworks like Laravel to get code out early and often.</p>
					<p>Its like the Speed Racer version of Laravel</p>
				</section>
				<section>
					<section>
						<h2>What can you do with it?</h2>
						<ul>
							<li>Build a small site</li>
							<li>API Applications</li>
							<li>Small sites to aid in a bigger site</li>
						</ul><br><br>
						<h4><b>But really, the key part of Lumen is...</b></h4>
					</section>

					<section>
						<h2>It can be ported to Laravel</h2>
						<p>This means that when its time, you can move a Lumen app to a Laravel app relatively quickly.</p>
					</section>
				</section>
				<section>
					<section>
						<h2>Why Lumen</h2>
						<p>Besides the obvious ability to take existing code into a bigger Laravel app, the speed you get is a huge boost.</p>
						<p>Out of the box, its packaged up nicely with libraries to get you started even faster.</p>
						<pre><code class="php">
"require": {
	"php": ">=5.5.9",
	"laravel/lumen-framework": "5.1.*",
	"vlucas/phpdotenv": "~1.0"
},
						</code></pre>
					</section>
					<section>
						<h4>Using Laravel\Lumen-Framework: 5.1.* will get you all of this:</h4>
						<pre><code class="php">
"require": {
	"php": ">=5.5.9",
    "illuminate/auth": "5.1.*",
    "illuminate/bus": "5.1.*",
    "illuminate/broadcasting": "5.1.*",
    "illuminate/config": "5.1.*",
    "illuminate/container": "5.1.*",
    "illuminate/contracts": "5.1.*",
    "illuminate/cache": "5.1.*",
    "illuminate/console": "5.1.*",
    "illuminate/cookie": "5.1.*",
    "illuminate/database": "5.1.*",
    "illuminate/encryption": "5.1.*",
    "illuminate/events": "5.1.*",
    "illuminate/filesystem": "5.1.*",
    "illuminate/hashing": "5.1.*",
    "illuminate/http": "5.1.*",
    "illuminate/pagination": "5.1.*",
    "illuminate/queue": "5.1.*",
    "illuminate/session": "5.1.*",
    "illuminate/support": "5.1.*",
    "illuminate/translation": "5.1.*",
    "illuminate/validation": "5.1.*",
    "illuminate/view": "5.1.*",
    "monolog/monolog": "~1.0",
    "mtdowling/cron-expression": "~1.0",
    "nikic/fast-route": "0.4.*",
    "paragonie/random_compat": "~1.1",
    "symfony/dom-crawler": "2.7.*",
    "symfony/http-kernel": "2.7.*",
    "symfony/http-foundation": "2.7.*",
    "symfony/var-dumper": "2.7.*"
},
"require-dev": {
    "phpunit/phpunit": "~4.0",
    "mockery/mockery": "~0.9"
},
						</code></pre>
					</section>
				</section>
				<section>
					<section>
						<img src="img/lumen.png" width="300px" height="185px"> <span><h2>VS.</h2></span> <img src="img/logo.slim.png">
					</section>
					<section>
						<img src="img/speed.png">
						<p><small>* I pulled this off lumen.laravel.com</small></p>
					</section>
					<section>
						<img src="img/speed.png" width="300px" height="285px">
						<p>How test was ran: 2012 Retina Macbook Pro, with 16 gigs of ram.</p>
						<p>Slim 3 was used at time of test. While it wasnt released, it was close enough.</p>
						<pre><code class="command-line">ab -t 10 -c 10 http://lumen.app/</code></pre>
					</section>
					<section>
						<p>Lumen is packaged with a few libraries you will need.</p>
						<p>Slim comes alone, but ready to work.</p>
					</section>
					<section>
						<h2>In Favor of Lumen</h2>
						<p>Lumen, with all the packages allows for apps to be built rapidly.</p>
					</section>
					<section>
						<h2>In Favor of Slim</h2>
						<p>Complete flexibility in packages and how you want to craft your application</p>
					</section>
				</section>
				<section>
					<section>
						<h2>Lumen Features: Routing</h2>
						<pre><code class="php">
	$app->get('/{$name}', function ($name) {
		return 'Hello '. $name;
	});

	$app->post('foo/bar', function () {
		return 'Hello World';
	});

	$app->put('foo/bar', function () {
	//
	});

	$app->delete('foo/bar', function () {
	//
	});
							</code></pre>
					</section>
					<section>
						<h4>You can also hide parts of URL's and make them easier for users</h4>
						<pre><code class="php">
$app->get('user/profile', [
    'as' => 'profile', 'uses' => 'UserController@showProfile'
]);
</code></pre>
				</section>
				<section>
					<h4>Routing by Namespace</h4>
					<pre><code class="php">
$app->group(['namespace' => 'App\Http\Controllers\Admin'], function ($app) {
    // Controllers Within The "App\Http\Controllers\Admin" Namespace
});
					</code></pre>
				</section>
				<section>
					<h4>X-CSRF-TOKEN</h4>
					<p>Lumen comes with a built in CSRF token that can help you fight Cross Site Request Forgery attacks.</p>
					<p>To call it, just place a meta tag like so:</p>
					<pre><code class="html"><meta name="csrf-token" content="{{ csrf_token() }}"></code></pre>
					<p>Then you pass it via AJAX</p>
				</section>
			</section>
			<section>
				<section>
					<h2>Controllers</h2>
					<p>With microframeworks, the default is to match the route to the specific logic, and return a view.</p>
					<p>With Lumen, as you just saw, thats one option. But if you need more heavy lifting, i.e. specific HTTP methods, Lumen can handle true controllers too</p>
				</section>
				<section>
					<h4>One drawback to Lumen, is missing out on most the Artisan commands.</h4>
					<pre><code class="command-line">$ php artisan make:controller CatController</code></pre>
				</section>
				<section>
					<pre><code class="command-line">$ php artisan make:controller CatController</code></pre>
					<p>Pick one: Speed or Power</p>
				</section>
			</section>
			<section>
				<section>
					<h2>Request</h2>
					<p>Lumen handles PSR-7 Request/Response with the help of: </p>
					<pre><code class="command-line">
$ composer require symfony/psr-http-message-bridge

$ composer require zendframework/zend-diactoros
					</code></pre>
				</section>
				<section>
					<h2>Requests</h2>
					<p>Requests can be accessed:</p>
					<pre><code class="php">$name = $request->input('name');</code></pre>
					<p class="fragment">Doesnt matter the type of request verb</p>
				</section>
				<section>
					<h2>Cookies</h2>
					<p>Cookies are accessed by:</p>
					<pre><code class="php">$value = $request->cookie('name');</code></pre>
				</section>
				<section>
					<h2>Attaching a cookie</h2>
					<pre><code class="php">
$response = new Illuminate\Http\Response('Hello World');

$response->withCookie(cookie('name', 'value', $minutes));

return $response;
					</code></pre>
					<p class="fragment">It's just that easy</p>
				</section>
				<section>
					<h2>File Uploads</h2>
					<p>Couldnt be easier!</p>
					<p>Use the <pre><code class="php">$files</code></pre> method from</p>
					<pre><code class="php">Illuminate\Http\Request</code></pre>
					<p>to access files being uploaded to your system.</p>
				</section>
			</section>
			<section>
				<section>
					<h2>Responses</h2>
					<pre><code class="php">
	use Illuminate\Http\Response;

	$app->get('home', function () {
	    return (new Response($content, $status))
	                  ->header('Content-Type', $value);
	});
					</code></pre>
					<p>With Lumen, you can choose between sending a view or object response.</p>
				</section>
				<section>
					<h2>Responses</h2>
					<p>Lumen can handle responses with:</p>
					<ul>
						<li>HTML/Views</li>
						<li>JSON</li>
						<li>File Downloads</li>
				</section>
				<section>
					<h2>Responses</h2>
					<p>With the redirect method, you can either redirect back to a page, or a whole new page</p>
					<pre><code class="php">
$app->get('dashboard', function () {
    return redirect('home/dashboard');
});
					</code></pre>
					<pre><code class="php">
// For a route with the following URI: profile/{id}

return redirect()->route('profile', [1]);
					</code></pre>
				</section>
			</section>
			<section>
				<section>
					<h2>Database</h2>
					<p>Two ways to run SQL queries</p>
					<pre><code class="php">$results = app('db')->select("SELECT * FROM users");</code></pre>
					<pre><code class="php">$results = DB::select("SELECT * FROM users");</code></pre>
					<p><small>The second works if Facades are turned on</small></p>
				</section>
				<section>
					<h4>You also get the power of the Artisan Migration command, to help make tables faster.</h4>
					<pre><code class="command-line">$ php artisan make:migration create_users_table</code></pre>
				</section>
			</section>
			<section>
				<h2>Views</h2>
				<p>Should you need a view, its quick to get started with Lumen.</p>
				<p class="fragment">The global View method allows you to return views from any request or controller.</p>
			</section>
			<section>
				<h2>Sessions &amp; Validation</h2>
				<p>Built in to the core, Lumen can easily handle session storing and validiation on data</p>
			</section>
			<section>
				<section>
					<h2>Unit Testing</h2>
					<p>Last but not least, a full PHPUnit suite is built into Lumen.</p>
					<pre><code class="command-line">$ ./composer/phpunit</code></pre>
					<p>You literally have no reason to not test your code.</p>
				</section>
			</section>
			<section>
				<h2>Adding to Lumen</h2>
				<p>These two packages allow you to extend the speed of Lumen with a little more power</p>
				<p><a href="http://fractal.thephpleague.com">Fractal</a> from the League</p>
				<p><a href="https://github.com/madewithlove/laravel-oauth2">OAuth2</a> for Laravel</p>
				<p><a href="https://github.com/fzaninotto/Faker">Faker</a> for database seeding with migrations</p>
			</section>
			<section>
				<h2>Questions?</h2>
			</section>
			<section>
				<h2>Matt Trask</h2>				<p>Open Source PHP Developer</p>
				<ul>
					<li><i class="fa fa-twitter" style="color: #55acee"></i> Twitter: @matthewtrask</li>
					<li><i class="fa fa-comments"></i> IRC: matthewtrask</li>
					<li><i class="fa fa-pencil-square-o" style="color: #2e8b57"></i> Blog: matthewtrask.net</li>
					<li><i class="fa fa-beer" style="color: #ffcc00"></i> The Brick Store</li>
				</ul>

			</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
